<!DOCTYPE html>
<html>
    <head>
        <title>TEST</title>
        <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
    </head>

    <body>
        <form>
            <input type='submit' id='proto20' value='20'>
            <input type='submit' id = 'proto21' value='21'>
        </form>

    </body>

    <script>
        var sio = io('http://localhost:5000');

        document.getElementById('proto20').addEventListener('click', event => {
                event.preventDefault();
                sio.emit('proto20', {'code': 20, 'from': 1});
        });

        document.getElementById('proto21').addEventListener('click', event => {
                event.preventDefault();
                sio.emit('proto21', {'code' : 21, 'dialog_id': 2});
        });


        sio.on('proto20', data => {
                console.log('proto20 channel: ');
                console.log(data);
        });

        sio.on('proto21', data => {
                console.log('proto21 channel: ');
                console.log(data);
        });

    </script>

</html>